<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>A tool to quantitatively assess differential translations with ribosome profiling data. — xtail-class • xtail</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="A tool to quantitatively assess differential translations with ribosome profiling data. — xtail-class" />
<meta property="og:description" content="By pairwise comparisons of ribosome profiling data, Xtail
identifies differentially translated genes across two experimental or
physiological conditions." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">xtail</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.2.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/xtail.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/xryanglab/xtail/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>A tool to quantitatively assess differential translations with ribosome profiling data.</h1>
    <small class="dont-index">Source: <a href='https://github.com/xryanglab/xtail/blob/master/R/xtail-class.R'><code>R/xtail-class.R</code></a>, <a href='https://github.com/xryanglab/xtail/blob/master/R/xtail.R'><code>R/xtail.R</code></a></small>
    <div class="hidden name"><code>xtail.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>By pairwise comparisons of ribosome profiling data, Xtail
identifies differentially translated genes across two experimental or
physiological conditions.</p>
    </div>

    <pre class="usage"><span class='fu'>xtail</span><span class='op'>(</span>
  <span class='va'>mrna</span>,
  <span class='va'>rpf</span>,
  <span class='va'>condition</span>,
  baseLevel <span class='op'>=</span> <span class='cn'>NA</span>,
  minMeanCount <span class='op'>=</span> <span class='fl'>1</span>,
  normalize <span class='op'>=</span> <span class='cn'>TRUE</span>,
  p.adjust.method <span class='op'>=</span> <span class='st'>"BH"</span>,
  threads <span class='op'>=</span> <span class='cn'>NA</span>,
  bins <span class='op'>=</span> <span class='fl'>10000L</span>,
  ci <span class='op'>=</span> <span class='fl'>0</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>mrna</th>
      <td><p>a matrix or data frame of raw mRNA count data whose rows
correspond to genes and columns correspond to samples. The column names
should be non-empty, and in same order with condition.</p></td>
    </tr>
    <tr>
      <th>rpf</th>
      <td><p>a matrix or data frame of raw RPF count data whose rows correspond
to genes and columns correspond to samples.The column names should be
non-empty, and in same order with condition.</p></td>
    </tr>
    <tr>
      <th>condition</th>
      <td><p>condition labels corresponding to the order of samples in
mrna and rpf. There must be exactly two unique values.</p></td>
    </tr>
    <tr>
      <th>baseLevel</th>
      <td><p>The baseLevel indicates which one of the two conditions will
be compared against by the other one. If not specified, <code>Xtail</code> will
return results of comparing the second condition over the first one.</p></td>
    </tr>
    <tr>
      <th>minMeanCount</th>
      <td><p><code>Xtail</code> uses the average expression level of each
gene, across all samples as filter criterion and it omits all genes with
mean counts below minMeanCount.</p></td>
    </tr>
    <tr>
      <th>normalize</th>
      <td><p>Whether normalization should be done (TRUE \ FALSE). If
missing, <code>Xtail</code> will perform median-of-ratios normlazation by
default.</p></td>
    </tr>
    <tr>
      <th>p.adjust.method</th>
      <td><p>The method to use for adjusting multiple comparisons, by
default "BH",  see <code><a href='https://rdrr.io/r/stats/p.adjust.html'>?p.adjust</a></code></p></td>
    </tr>
    <tr>
      <th>threads</th>
      <td><p>The number of CPU cores used. By default, all available  cores
are used.</p></td>
    </tr>
    <tr>
      <th>bins</th>
      <td><p>The number of bins used for calculating the probability density
of log2FC or log2R (default is 10000). This paramater will determine
accuracy of pvalue. Set it small for a very quick test run.</p></td>
    </tr>
    <tr>
      <th>ci</th>
      <td><p>The level of confindence to get credible intervals of log2 fold
change of translational efficiency (TE), for example 0.95.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>a <code>xtail</code> object</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>No missing values are allowed in input data mrna and rpf.</p>
<p>Duplicate row names (gene names or gene ids) are not allowed.</p>
<p><code>Xtail</code> takes in raw read counts of RPF and mRNA, and performs
median-of-ratios normalization. Alternatively, users can provide normalized
read counts and skip the built-in normal by setting "normalize" to FALSE.</p>
<p>The step of estimation of the probability distributions, for log2FC or
log2R, will execute slowly in the current implementation, but can be
speeded up by running on multiple cores using the parallel library. By
default, the "detectCores" function in parallel library is used to
determine the number of CPU cores in the machine on which R is running. To
adjust the number of cores used, use "threads" argument to assign.</p>
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>Zhengtao Xiao, Qin Zou, Yu Liu, and Xuerui Yang: Genome-wide
assessment of differential translations with ribosome profiling data.</p>
    <h2 class="hasAnchor" id="author"><a class="anchor" href="#author"></a>Author</h2>

    <p>Zhengtao xiao</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'>#load the data</span>
<span class='fu'><a href='https://rdrr.io/r/utils/data.html'>data</a></span><span class='op'>(</span><span class='va'>xtaildata</span><span class='op'>)</span>
<span class='co'># Get the mrna count data and rpf count data. For the example only the first</span>
<span class='co'># 100 are used</span>
<span class='va'>test.mrna</span> <span class='op'>&lt;-</span> <span class='va'>xtaildata</span><span class='op'>$</span><span class='va'>mrna</span><span class='op'>[</span><span class='fl'>1</span><span class='op'>:</span><span class='fl'>100</span>,<span class='op'>]</span>
<span class='va'>test.rpf</span> <span class='op'>&lt;-</span> <span class='va'>xtaildata</span><span class='op'>$</span><span class='va'>rpf</span><span class='op'>[</span><span class='fl'>1</span><span class='op'>:</span><span class='fl'>100</span>,<span class='op'>]</span>

<span class='co'>#Assign condition labels to samples.</span>
<span class='va'>condition</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"control"</span>,<span class='st'>"control"</span>,<span class='st'>"treat"</span>,<span class='st'>"treat"</span><span class='op'>)</span>

<span class='co'>#run xtail</span>
<span class='va'>test.results</span> <span class='op'>&lt;-</span> <span class='fu'>xtail</span><span class='op'>(</span><span class='va'>test.mrna</span>,<span class='va'>test.rpf</span>,<span class='va'>condition</span>, threads <span class='op'>=</span> <span class='fl'>2</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span class='message'>Calculating the library size factors</span></div><div class='output co'>#&gt; <span class='message'>1. Estimate the log2 fold change in mrna</span></div><div class='output co'>#&gt; <span class='message'>2. Estimate the log2 fold change in rpf</span></div><div class='output co'>#&gt; <span class='message'>3. Estimate the difference between two log2 fold changes</span></div><div class='output co'>#&gt; <span class='message'>4. Estimate the log2 ratio in first condition</span></div><div class='output co'>#&gt; <span class='message'>5. Estimate the log2 ratio in second condition</span></div><div class='output co'>#&gt; <span class='message'>6. Estimate the difference between two log2 ratios</span></div><div class='output co'>#&gt; <span class='message'>Number of the log2FC and log2R used in determining the final p-value</span></div><div class='output co'>#&gt; <span class='message'> log2FC: 16</span></div><div class='output co'>#&gt; <span class='message'> log2R: 84</span></div><div class='input'><span class='va'>test.results</span>
</div><div class='output co'>#&gt; A xtail object:
#&gt; Number of genes tested: 100 
#&gt; Number of the log2FC and log2R used in determining the final p-value:
#&gt;      log2FC: 16 
#&gt;      log2R : 84 
#&gt; 
#&gt; Number of result with adjusted pvalue &lt;  0.1 
#&gt;      log2FC_TE &gt; 0 (up)  : 0 
#&gt;      log2FC_TE &lt; 0 (down): 2 </div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Zhengtao Xiao, Qin Zou, Yu Liu, Xuerui Yang.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


